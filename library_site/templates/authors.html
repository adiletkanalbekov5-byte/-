{% extends "base.html" %}

{% block content %}

<!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
<form method="GET" class="mb-6 flex items-center gap-2">
    <input type="text" name="search" placeholder="–ü–æ–∏—Å–∫ –∞–≤—Ç–æ—Ä–æ–≤..."
           value="{{ search }}"
           class="border p-2 rounded w-1/2">

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2">
        <!-- –õ—É–ø–∞ -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
             viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
        </svg>
        –ù–∞–π—Ç–∏
    </button>
</form>

<h1 class="text-3xl font-bold mb-6">üë§ –ê–≤—Ç–æ—Ä—ã</h1>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    {% for author in authors %}
    <div class="bg-white shadow rounded-xl p-4 hover:shadow-lg transition">
        <!-- –§–æ—Ç–æ –∞–≤—Ç–æ—Ä–∞, –µ—Å–ª–∏ –µ—Å—Ç—å -->
        {% if author.image %}
            <img src="{{ author.image }}" class="rounded w-full h-48 object-cover mb-3">
        {% else %}
            <div class="bg-gray-200 w-full h-48 rounded mb-3 flex items-center justify-center text-gray-500">
                –ù–µ—Ç —Ñ–æ—Ç–æ
            </div>
        {% endif %}

        <h3 class="font-bold text-xl">{{ author.name }}</h3>
        <p class="text-gray-600 mt-1">–ö–Ω–∏–≥: {{ author.book_set.count }}</p>
        <a href="/authors/{{ author.id }}/" class="text-blue-600 underline mt-2 inline-block">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>
    {% empty %}
    <p>–ê–≤—Ç–æ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
    {% endfor %}
</div>

{% endblock %}
