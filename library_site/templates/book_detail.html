{% extends "base.html" %}
{% block content %}

<div class="bg-white p-6 rounded-2xl shadow-lg max-w-3xl mx-auto border border-gray-100">

    <!-- –û–±–ª–æ–∂–∫–∞ -->
    <img src="{{ book.image }}"
         class="rounded-xl w-full h-72 object-cover shadow mb-5">

    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
    <h1 class="text-4xl font-bold mb-2">{{ book.title }}</h1>

    <!-- –ê–≤—Ç–æ—Ä -->
    <p class="text-gray-600 text-lg mb-4">
        ‚úçÔ∏è –ê–≤—Ç–æ—Ä: <span class="font-semibold">{{ book.author.name }}</span>
    </p>

    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
    <p class="text-gray-700 leading-relaxed">
        {{ book.description }}
    </p>

    {% if book.audio_file %}
    <!-- –ê—É–¥–∏–æ –ë–ª–æ–∫ -->
    <div class="mt-8">
        <h2 class="text-2xl font-semibold mb-3">üéµ –ê—É–¥–∏–æ–≤–µ—Ä—Å–∏—è –∫–Ω–∏–≥–∏</h2>

        <div class="w-full h-1 bg-gray-200 rounded-full mb-3"></div> <!-- –ª–∏–Ω–∏—è -->

        <audio id="audioPlayer" controls
               class="w-full mb-4 rounded-lg shadow">
            <source src="{{ book.audio_file.url }}" type="audio/mpeg">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
        </audio>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="flex flex-wrap gap-3">

            <button onclick="document.getElementById('audioPlayer').play()"
                class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 shadow">
                ‚ñ∂Ô∏è –°–ª—É—à–∞—Ç—å
            </button>

            <button onclick="document.getElementById('audioPlayer').pause()"
                class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 shadow">
                ‚è∏ –ü–∞—É–∑–∞
            </button>

            <button onclick="document.getElementById('audioPlayer').currentTime -= 10"
                class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow">
                ‚è™ -10 —Å–µ–∫
            </button>

            <button onclick="document.getElementById('audioPlayer').currentTime += 10"
                class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow">
                ‚è© +10 —Å–µ–∫
            </button>

            <a href="{{ book.audio_file.url }}" download
               class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 shadow">
               üíæ –°–∫–∞—á–∞—Ç—å
            </a>
        </div>
    </div>

    {% else %}
        <p class="text-gray-500 mt-6 italic">
            –ê—É–¥–∏–æ–≤–µ—Ä—Å–∏—è –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ üì≠
        </p>
    {% endif %}
</div>

{% endblock %}
